# AI 投资助手提示词系统说明

## 🎯 系统架构

本系统采用**多层提示词架构**,确保 AI 提供专业、准确、负责任的投资建议:

```
┌─────────────────────────────────────────┐
│  核心系统提示词 (CORE_SYSTEM_PROMPT)    │
│  定义 AI 角色、能力、原则                │
└──────────────┬──────────────────────────┘
               │
               ↓
┌─────────────────────────────────────────┐
│  市场数据上下文 (formatMarketContext)   │
│  实时价格、趋势、搬砖机会                │
└──────────────┬──────────────────────────┘
               │
               ↓
┌─────────────────────────────────────────┐
│  用户上下文 (userContext)               │
│  预算、风险偏好、经验水平                │
└──────────────┬──────────────────────────┘
               │
               ↓
┌─────────────────────────────────────────┐
│  问题类型提示词 (QUESTION_TYPE_PROMPTS) │
│  针对不同问题的专业引导                  │
└──────────────┬──────────────────────────┘
               │
               ↓
┌─────────────────────────────────────────┐
│  用户问题 (userQuestion)                │
│  实际提问内容                            │
└─────────────────────────────────────────┘
```

## 📋 核心系统提示词

### 1. 角色定义
```
你是 CSGO-Dog 的专业 CS:GO 饰品投资顾问
```

**作用**: 明确 AI 的身份和责任范围

### 2. 核心能力
- ✅ 市场分析: 精通多平台价格对比、趋势预测、交易量分析
- ✅ 风险评估: 评估饰品流动性、价格波动性、持有风险
- ✅ 投资策略: 制定短期套利、中期持有、长期投资方案
- ✅ 数据解读: 解释市场指标、技术分析、历史数据
- ✅ 个性化建议: 根据用户预算、风险偏好定制方案

**作用**: 让 AI 知道自己应该擅长什么

### 3. 分析方法
- 多维度评估: 价格、交易量、趋势、稀有度、市场情绪
- 跨平台对比: BUFF、Steam、UU、C5GAME、悠悠有品
- 时间维度: 7日、30日、季度趋势分析
- 风险量化: 使用百分比、评级系统明确风险

**作用**: 指导 AI 如何进行分析

### 4. 回答原则
```
1. 数据驱动: 基于实时市场数据,引用具体数字和趋势
2. 客观中立: 不做绝对承诺,明确指出不确定性
3. 风险警示: 优先提示风险,保护用户资金安全
4. 可操作性: 提供具体的买入/卖出/持有建议
5. 教育性: 解释背后逻辑,帮助用户理解市场
```

**作用**: 确保 AI 回答的质量和责任感

### 5. 禁止行为
```
❌ 保证收益或涨幅
❌ 建议用户借贷投资
❌ 推荐高风险投机
❌ 使用模糊不清的建议
❌ 忽视风险因素
```

**作用**: 防止 AI 给出不负责任的建议

## 🎯 问题类型识别

系统会自动识别用户问题类型,并应用相应的专业提示词:

### 1. 市场趋势分析 (trend)
**触发词**: 趋势、走势、行情

**专业提示词**:
```
基于当前市场数据,分析:
1. 整体市场走势及成因
2. 各类别饰品表现差异
3. 未来 7-30 天预测
4. 风险因素提示
用数据支撑你的观点,给出具体百分比。
```

**示例输出**:
```
📈 市场趋势分析

【整体走势】
当前市场整体上涨 +3.2%,主要受以下因素推动:
- 新箱子发布带来热度提升
- 大型赛事临近,玩家活跃度增加
- 多个热门饰品库存紧张

【类别表现】
🔪 刀具类: +5.8% (表现最佳)
   - 蝴蝶刀系列领涨,平均涨幅 8.5%
   - 高端刀具需求强劲

🔫 步枪类: +2.3%
   - AK-47 系列稳定增长
   - M4A4 二西莫夫表现突出

🧤 手套类: +4.1%
   - 运动手套需求旺盛
   - 副总裁款式溢价明显

【未来预测 (7-30天)】
📊 短期 (7天): 预计继续温和上涨 1-3%
   - 赛事预热期,关注度持续提升
   - 注意获利盘可能造成短期回调

📊 中期 (30天): 预计涨幅 3-8%
   - 大型赛事期间通常有较好表现
   - 新箱子饰品价格趋于稳定

⚠️ 风险因素:
- 政策变化可能导致市场波动
- 新箱子开出量大可能压低部分饰品价格
- 国际汇率波动影响跨境交易

💡 建议: 关注刀具和手套类,短期波动中寻找低吸机会
```

### 2. 投资推荐 (recommend)
**触发词**: 推荐、买什么、投资建议

**专业提示词**:
```
根据市场数据和用户需求,推荐投资标的:
1. 推荐 3-5 个具体饰品
2. 每个饰品说明: 推荐理由、预期收益、风险等级、建议仓位
3. 给出买入价格区间和止损点
4. 说明预期持有时长
⚠️ 必须包含风险警示
```

**示例输出** (基于用户预算 ¥5000, 稳健型):
```
💎 投资推荐方案

基于您的情况:
- 预算: ¥5,000
- 风险偏好: 稳健型
- 经验水平: 中等

【推荐组合】

1️⃣ AK-47 | 二西莫夫 (略有磨损)
   💰 建议买入: ¥1,250 - ¥1,280
   📈 预期收益: +8-12% (30天)
   🎯 建议仓位: 25% (¥1,250)
   ⚠️ 风险等级: 低
   🛡️ 止损点: ¥1,180 (-5.6%)
   
   推荐理由:
   - 热门饰品,流动性极佳
   - 7日上涨 2.3%,趋势向好
   - BUFF 平台库存紧张,价格支撑强
   - 适合新手,容易变现

2️⃣ M4A4 | 龙王 (崭新出厂)
   💰 建议买入: ¥3,150 - ¥3,200
   📈 预期收益: +12-18% (60天)
   🎯 建议仓位: 40% (¥2,000)
   ⚠️ 风险等级: 中
   🛡️ 止损点: ¥2,950 (-7.8%)
   
   推荐理由:
   - 高稀有度,长期保值性强
   - 近期上涨 5.8%,势头良好
   - 适合中期持有 (1-3个月)
   - 价格相对刀具更亲民

3️⃣ USP-S | 杀戮确认 (略有磨损)
   💰 建议买入: ¥175 - ¥180
   📈 预期收益: +5-8% (30天)
   🎯 建议仓位: 20% (¥1,000,可买5-6个分散)
   ⚠️ 风险等级: 低
   🛡️ 止损点: ¥168 (-6.7%)
   
   推荐理由:
   - 低价高流动性,适合分散投资
   - 手枪类热门款,需求稳定
   - 可作为组合的稳定器
   - 小额多次,灵活变现

4️⃣ 现金储备
   💰 保留: ¥750
   🎯 仓位: 15%
   
   作用:
   - 应对突发机会 (搬砖套利)
   - 缓冲风险,避免满仓
   - 用于补仓或止损

【操作建议】
1. 分批买入: 不要一次性全仓,分2-3次建仓
2. 设置提醒: 关注价格变化,及时调整
3. 定期复盘: 每周查看持仓表现
4. 严守纪律: 止损线坚决执行

【风险警示】
⚠️ 市场有风险,投资需谨慎:
- 饰品价格受多种因素影响,可能突然下跌
- 流动性风险: 急需用钱时可能无法及时变现
- 平台风险: 选择靠谱平台,注意账号安全
- 不建议借贷投资或投入全部资金

💡 预期综合收益: +10-15% (30-60天)
📊 风险评级: 中低 (适合稳健型投资者)
```

### 3. 风险评估 (risk)
**触发词**: 风险、安全、会亏吗

### 4. 搬砖套利 (arbitrage)
**触发词**: 搬砖、套利、价差

### 5. 持仓分析 (portfolio)
**触发词**: 持仓、仓位、组合

### 6. 新手指导 (beginner)
**触发词**: 新手、入门、怎么开始

### 7. 数据解读 (explain)
**触发词**: 什么意思、怎么看、如何理解

## 📊 市场数据上下文

AI 会自动获取并分析以下实时数据:

```typescript
【当前市场概况】
更新时间: 2025-10-26 14:30:15
市场趋势: 📈 整体上涨
热门品类: 刀具、手套、步枪

【热门饰品 TOP 10】
1. AK-47 | 二西莫夫 (略有磨损)
   最低价: ¥1280 (BUFF)
   最高价: ¥1356 (Steam)
   价差: 5.94%
   7日趋势: ↗ 2.30%
   24h交易量: 45

2. M4A4 | 龙王 (崭新出厂)
   最低价: ¥3200 (C5GAME)
   最高价: ¥3424 (Steam)
   价差: 7.00%
   7日趋势: ↗ 5.80%
   24h交易量: 28

[... 更多饰品]

【搬砖机会 TOP 5】
1. 蝴蝶刀 | 多普勒 (崭新出厂)
   买入: BUFF
   卖出: Steam
   利润: ¥876 (7.30%)

[... 更多机会]

【市场动态】
📈 近期上涨: 蝴蝶刀 | 多普勒、运动手套 | 副总裁、M4A4 | 龙王
📉 近期下跌: AWP | 二西莫夫、USP-S | 杀戮确认
```

## 👤 用户上下文个性化

AI 会根据用户设置提供个性化建议:

```typescript
【用户信息】
投资预算: ¥5,000
风险偏好: 稳健型 (中风险)
经验水平: 中等经验
投资目标: 未提供
```

**不同用户类型的建议差异**:

| 用户类型 | 预算 | 风险偏好 | 推荐策略 |
|---------|------|---------|---------|
| 保守新手 | ¥1-3K | 低 | 低价高流动性饰品,分散投资 |
| 稳健中级 | ¥5-10K | 中 | 热门饰品组合,搬砖机会 |
| 激进资深 | ¥20K+ | 高 | 高端刀具/手套,短期波段 |

## 🎓 快捷问题模板

系统预设 8 个专业问题模板:

1. **当前市场趋势如何?**
   - 完整提示词: "请分析当前 CS:GO 饰品市场的整体趋势,包括各类别的表现、交易热度变化,以及未来 7-30 天的预测。"

2. **推荐高性价比饰品**
   - 完整提示词: "我有 2000-5000 元预算,希望投资一些性价比高、风险较低的饰品。请推荐 3-5 个具体标的,说明推荐理由和预期收益。"

3. **有哪些搬砖机会?**
   - 完整提示词: "请列出当前最佳的跨平台搬砖机会,要求价差超过 5%,并说明具体操作步骤和注意事项。"

4. **如何分散投资降低风险?**
   - 完整提示词: "我想建立一个风险分散的投资组合,预算 10000 元。请提供资产配置建议,包括不同类别、价位的饰品比例。"

5. **新手如何开始投资?**
6. **刀具值得投资吗?**
7. **什么时候是买入好时机?**
8. **如何设置止损点?**

## 🔄 实际对话示例

### 示例 1: 市场趋势咨询

**用户**: "现在市场怎么样?值得买入吗?"

**AI 分析流程**:
1. 识别问题类型: 趋势分析
2. 加载市场数据上下文
3. 考虑用户偏好 (稳健型, ¥5000预算)
4. 应用趋势分析提示词

**AI 回复**:
```
📊 市场分析 (2025-10-26 更新)

【整体判断】
✅ 当前是相对不错的买入时机

理由:
1. 市场整体上涨 +3.2%,但未过热
2. 多个品类处于合理估值区间
3. 即将有大型赛事,通常有正面影响

【各类别表现】
🔪 刀具: +5.8% - ⚠️ 部分品种已接近短期高点
🔫 步枪: +2.3% - ✅ 估值合理,可以关注
🧤 手套: +4.1% - ✅ 仍有上涨空间

【买入建议】
针对您的情况 (¥5000预算, 稳健型):

✅ 推荐买入:
- AK-47 | 二西莫夫: 热门款,流动性好
- M4A4 系列: 中期持有潜力大
- 小额分散: USP-S、Glock 等低价饰品

⚠️ 暂时观望:
- 高端刀具: 近期涨幅较大,等回调
- 新箱子饰品: 价格波动大,不确定性高

【操作策略】
1. 分批建仓: 先投入 60-70% 资金
2. 保留现金: 30-40% 应对回调或搬砖
3. 设置止损: 每个饰品设定 -5% 到 -8% 止损
4. 持有周期: 建议 30-60 天

⚠️ 风险提示:
- 虽然趋势向好,但仍可能短期回调
- 不要满仓,保留灵活资金
- 严格执行止损纪律

💡 综合评分: 7.5/10 (可以买入,但需谨慎)
```

### 示例 2: 搬砖机会咨询

**用户**: "有什么搬砖机会?"

**AI 回复**:
```
🔄 跨平台搬砖机会 (实时更新)

【TOP 5 机会】

1️⃣ 蝴蝶刀 | 多普勒 (崭新出厂)
   📥 买入: BUFF ¥11,880
   📤 卖出: Steam ¥12,756
   💰 利润: ¥876 (7.30%)
   ⏱️ 风险: 高端刀具,提现周期长
   ⭐ 推荐度: ★★★☆☆

2️⃣ 运动手套 | 副总裁 (略有磨损)
   📥 买入: C5GAME ¥5,376
   📤 卖出: Steam ¥5,768
   💰 利润: ¥392 (7.29%)
   ⏱️ 风险: 中等,需关注库存
   ⭐ 推荐度: ★★★★☆

3️⃣ M4A4 | 龙王 (崭新出厂)
   📥 买入: C5GAME ¥3,200
   📤 卖出: Steam ¥3,424
   💰 利润: ¥224 (7.00%)
   ⏱️ 风险: 低,流动性好
   ⭐ 推荐度: ★★★★★ (最推荐)

【操作指南】

1. 计算实际收益:
   - 扣除手续费: BUFF 2.5%, Steam 5%
   - 扣除提现费: 约 1-2%
   - 实际利润 ≈ 表面利润 × 0.92

2. 操作流程:
   ① 在低价平台下单购买
   ② 等待到账 (1-24小时)
   ③ 在高价平台上架出售
   ④ 等待成交 (可能需要几天)
   ⑤ 提现到账

3. 风险控制:
   ⚠️ 价格波动: 过程中价格可能变化
   ⚠️ 时间成本: 整个流程需要 3-7 天
   ⚠️ 库存风险: 可能买不到或卖不出
   ⚠️ 平台限制: 提现额度和频率限制

【专业建议】

✅ 适合搬砖的饰品:
- 流动性高 (24h交易量 > 20)
- 价格稳定 (7日波动 < 5%)
- 价差大 (实际利润 > 5%)

❌ 不适合搬砖的饰品:
- 高端饰品 (变现慢)
- 新饰品 (价格不稳)
- 小众饰品 (无人接盘)

💡 新手建议:
先用小金额试水 (¥500-1000),熟悉流程后再加大资金。

📱 工具推荐:
- 价格监控: CSGO Exchange
- 库存查询: 各平台官网
- 汇率换算: 实时汇率工具
```

## 🎯 提示词优化建议

### 1. 持续迭代
根据用户反馈和实际效果,不断优化提示词:

```typescript
// 收集用户反馈
interface Feedback {
  messageId: string;
  rating: 1 | 2 | 3 | 4 | 5;
  comment?: string;
}

// 分析哪些提示词效果好
function analyzePromptEffectiveness(feedbacks: Feedback[]) {
  // TODO: 统计不同问题类型的满意度
  // TODO: 识别需要改进的提示词
}
```

### 2. A/B 测试
对比不同提示词版本的效果:

```typescript
const PROMPT_VARIANTS = {
  recommend_v1: "推荐 3-5 个具体饰品...",
  recommend_v2: "基于数据分析,推荐以下投资标的...",
};

// 随机分配版本并跟踪效果
```

### 3. 动态调整
根据市场状态调整提示词:

```typescript
function adjustPromptByMarket(marketTrend: 'up' | 'down' | 'stable') {
  if (marketTrend === 'down') {
    return "当前市场下跌,重点强调风险控制和止损策略...";
  }
  // ...
}
```

## 📚 总结

本提示词系统的核心优势:

✅ **专业性**: 多层次专业提示词,确保回答质量  
✅ **个性化**: 根据用户背景定制建议  
✅ **数据驱动**: 基于实时市场数据分析  
✅ **责任感**: 明确风险,保护用户利益  
✅ **可扩展**: 易于添加新的问题类型和提示词  

**下一步优化方向**:
1. 接入真实市场数据 API
2. 收集用户反馈,优化提示词
3. 添加更多问题类型识别
4. 实现对话历史上下文记忆
5. 支持多轮对话和追问

---

**当前版本**: v1.0  
**最后更新**: 2025-10-26  
**维护者**: CSGO-Dog Team
